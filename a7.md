
# 一维数组
---

## 1. 什么是数组？

数组就是**一组“同类型变量”的集合**，可以用一个名字来表示一整组数。

你可以把它想象成一个排好序的储物柜，每一格里面放一个变量，每一格都有编号（从 0 开始编号）。

---

## 2. 声明数组

```cpp
#include <iostream>
using namespace std;

int main() {
    int a[5]; // 声明一个可以存放 5 个整数的一维数组 a
}
```

这行代码创建了一个整数数组 `a`，它可以存放 5 个整数，编号分别是：`a[0], a[1], a[2], a[3], a[4]`。

---

## 3. 初始化数组

### 方法一：边声明边初始化

```cpp
int a[5] = {1, 2, 3, 4, 5};  // 给每个位置都赋了值
```

### 方法二：只初始化部分值

```cpp
int a[5] = {1, 2};  // 其余位置会自动补 0
// a[0]=1, a[1]=2, a[2]=0, a[3]=0, a[4]=0
```

### 方法三：自动推导数组长度（推荐）

```cpp
int a[] = {10, 20, 30};  // 编译器会自动认为这是长度为3的数组
```

---

## 4. 访问数组元素

```cpp
#include <iostream>
using namespace std;

int main() {
    int a[3] = {10, 20, 30};
    cout << a[0] << endl;  // 输出第一个元素 10
    cout << a[2] << endl;  // 输出第三个元素 30
}
```

注意：`a[0]` 是第一个，`a[1]` 是第二个，**索引从 0 开始**！

---

## 5. 修改数组元素

```cpp
a[1] = 100;  // 把第二个元素改为 100
```

---

## 6. 遍历数组（for 循环）

```cpp
int a[5] = {1, 2, 3, 4, 5};
for (int i = 0; i < 5; i++) {
    cout << a[i] << " ";
}
```

输出：`1 2 3 4 5`

---

## 7. 用户输入数组

```cpp
int a[5];
for (int i = 0; i < 5; i++) {
    cin >> a[i];  // 从键盘读入 5 个整数
}
```

---

## 8. 常见错误 ⚠️

### ❌ 越界访问

```cpp
int a[5] = {1,2,3,4,5};
cout << a[5];  // 错了！最大只能访问 a[4]，a[5] 是未定义行为
```

### ❌ 没有初始化就使用

```cpp
int a[5];      // 没有赋值
cout << a[0];  // 结果不确定，可能是垃圾值
```

---

## 9. 总结

| 操作          | 示例                         |
|---------------|------------------------------|
| 声明数组      | `int a[10];`                 |
| 初始化        | `int a[3] = {1, 2, 3};`      |
| 访问元素      | `cout << a[0];`              |
| 修改元素      | `a[2] = 100;`                |
| 遍历数组      | `for (int i=0; i<n; i++)`    |

---

## ✅ 小练习：计算数组和

```cpp
#include <iostream>
using namespace std;

int main() {
    int a[5];
    int sum = 0;
    cout << "请输入5个整数：\n";
    for (int i = 0; i < 5; i++) {
        cin >> a[i];
        sum += a[i];
    }
    cout << "总和是：" << sum << endl;
    return 0;
}
```



## ✅ 什么是全局数组？

全局数组是在**函数外面（通常是 `main` 函数上面）声明的数组**。  
它的作用范围是整个 `.cpp` 文件内的所有函数。

🔸 它不像局部变量那样“用完就消失”，而是从程序一开始运行就一直存在到结束。

---

## 📦 举个简单例子：

```cpp
#include <iostream>
using namespace std;

int a[5] = {1, 2, 3, 4, 5}; // 全局数组

int main() {
    cout << a[2] << endl;  // 输出第三个元素：3
    return 0;
}
```

---

## 📌 全局数组 vs 局部数组

| 对比点         | 局部数组                      | 全局数组                       |
|----------------|-------------------------------|--------------------------------|
| 位置           | 如 `main()`内部       | 外部                       |
| 生命周期       | 函数调用时创建，用完就释放     | 程序一启动就存在，直到结束     |
| 默认初始值     | 不确定，随机值       | 自动初始化为 0                 |
| 最大可开大小   | 一般最多几万       | 可开到几千万甚至亿|
| 可访问范围     | 仅当前函数                    | 所有函数都能访问               |

---

**可以开很大的数组**
   ```cpp
   int a[10000005];  // OK，全局变量可以开上千万！
   ```
---

## ⚠️ 全局数组的注意事项

### 1. 默认初始化为 0

```cpp
int a[10];
int main() {
    cout << a[0] << endl;  // 输出 0（不是垃圾值）
}
```

### 2. 太大的全局数组可能爆内存 💥

一般最多可以写：
```cpp
int a[10000005];        // 一千万以内通常安全
```

---

## 🚫 不要混淆全局变量作用域

如果你在多个 `.cpp` 文件里使用同名全局数组，可能会冲突。除非你知道 `extern`、命名空间等内容，否则建议只在一个文件中用全局变量。

---

## 小练习：计数器

```cpp
#include <iostream>
using namespace std;

int count[100]; // 全局数组：默认都为 0

int main() {
    int n;
    cin >> n;
    for (int i = 0; i < n; i++) {
        int x;
        cin >> x;
        count[x]++;  // 统计数字出现次数
    }

    for (int i = 0; i < 100; i++) {
        if (count[i] > 0)
            cout << i << " 出现了 " << count[i] << " 次" << endl;
    }
    return 0;
}
```

---
